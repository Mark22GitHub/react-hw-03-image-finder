{"version":3,"sources":["Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/Modal/Modal.module.css","App.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Button/Button.module.css","Components/Loader/Loader.module.css","Components/Searchbar/Searchbar.js","api/pixabay-api.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/ImageGallery/ImageGallery.js","Components/Button/Button.js","Components/Loader/Loader.js","Components/Modal/Modal.js","App.js","index.js","Components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","query","handleChange","value","currentTarget","setState","handleSubmit","e","onSubmit","props","preventDefault","this","className","styles","SearchForm","type","SearchForm_Button","SearchForm_Button_Label","onChange","SearchForm_Input","autoComplete","autoFocus","placeholder","Component","axios","defaults","baseURL","fetchPictures","page","get","then","data","hits","ImageGalleryItem","webformatURL","toggleModal","largeImageURL","onClick","src","alt","ImageGalleryItem_Image","ImageGallery","imgs","map","id","Button","fetchImgs","Loader","Spinner","color","height","width","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleOverlayClose","target","window","addEventListener","removeEventListener","largeImg","createPortal","Overlay","App","isLoading","error","openModal","onChangeQuery","request","options","prevState","scrollTo","top","documentElement","scrollHeight","behavior","catch","finally","prevProps","ifRenderLoadMore","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.6363e212.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__VPBD0\",\"ImageGalleryItem_Image\":\"ImageGalleryItem_ImageGalleryItem_Image__21CFG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__33Ypd\",\"Modal\":\"Modal_Modal__3ihEg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__16ZpL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1hnjP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__HOrbw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Spinner\":\"Loader_Spinner__3OrXC\"};","import styles from './Searchbar.module.css';\nimport React, { Component } from 'react';\n\nclass Searchbar extends Component {\n  state = {\n    query: '',\n  };\n\n  handleChange = ({ currentTarget }) => {\n    const { value } = currentTarget;\n    this.setState({ query: value });\n  };\n\n  handleSubmit = e => {\n    const { onSubmit } = this.props;\n    const { query } = this.state;\n    e.preventDefault();\n    onSubmit(query);\n    this.setState({ query: '' });\n  };\n\n  render() {\n    const { query } = this.state;\n    return (\n      <header className={styles.Searchbar}>\n        <form onSubmit={this.handleSubmit} className={styles.SearchForm}>\n          <button type=\"submit\" className={styles.SearchForm_Button}>\n            <span className={styles.SearchForm_Button_Label}>Search</span>\n          </button>\n\n          <input\n            onChange={this.handleChange}\n            value={query}\n            className={styles.SearchForm_Input}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","import axios from 'axios';\n\nconst key = '18623551-685e1819373a3e2d77873e072';\naxios.defaults.baseURL = 'https://pixabay.com/api/';\n\nconst fetchPictures = ({ query = '', page = 1 }) => {\n  return axios\n    .get(\n      `?q=${query}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`,\n    )\n    .then(({ data }) => data.hits);\n};\n\nexport default fetchPictures;\n","import styles from './ImageGalleryItem.module.css';\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nconst ImageGalleryItem = ({ webformatURL, toggleModal, largeImageURL }) => {\n  return (\n    <li\n      onClick={() => toggleModal(largeImageURL)}\n      className={styles.ImageGalleryItem}\n    >\n      <img\n        src={webformatURL}\n        alt=\"\"\n        className={styles.ImageGalleryItem_Image}\n      />\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  webformatURL: PropTypes.string.isRequired,\n  toggleModal: PropTypes.func.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import styles from './ImageGallery.module.css';\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport ImageGalleryItem from '../ImageGalleryItem';\n\nconst ImageGallery = ({ imgs, toggleModal }) => {\n  return (\n    <ul className={styles.ImageGallery}>\n      {imgs.map(({ id, webformatURL, largeImageURL }) => (\n        <ImageGalleryItem\n          key={id}\n          webformatURL={webformatURL}\n          largeImageURL={largeImageURL}\n          toggleModal={toggleModal}\n        />\n      ))}\n    </ul>\n  );\n};\n\nImageGallery.propTypes = {\n  imgs: PropTypes.array.isRequired,\n  toggleModal: PropTypes.func.isRequired,\n  id: PropTypes.number,\n  webformatURL: PropTypes.string,\n  largeImageURL: PropTypes.string,\n};\n\nexport default ImageGallery;\n","import styles from './Button.module.css';\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nconst Button = ({ fetchImgs }) => {\n  return (\n    <button className={styles.Button} type=\"button\" onClick={fetchImgs}>\n      Load more\n    </button>\n  );\n};\n\nButton.propTypes = {\n  fetchImgs: PropTypes.func,\n};\n\nexport default Button;\n","import React from 'react';\nimport Spinner from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport styles from './Loader.module.css';\n\nconst Loader = () => {\n  return (\n    <Spinner\n      className={styles.Spinner}\n      type=\"BallTriangle\"\n      color={'#3f51b5'}\n      height={80}\n      width={80}\n    />\n  );\n};\n\nexport default Loader;\n","import styles from './Modal.module.css';\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { createPortal } from 'react-dom';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  handleOverlayClose = e => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    const { largeImg } = this.props;\n    return createPortal(\n      <div onClick={this.handleOverlayClose} className={styles.Overlay}>\n        <div className={styles.Modal}>\n          <img src={largeImg} alt=\"\" />\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nModal.propTypes = {\n  largeImg: PropTypes.string.isRequired,\n  onClose: PropTypes.func.isRequired,\n};\n\nexport default Modal;\n","import React, { Component } from 'react';\n\nimport Searchbar from './Components/Searchbar';\nimport fetchPictures from './api/pixabay-api';\nimport styles from './App.module.css';\nimport ImageGallery from './Components/ImageGallery';\nimport Button from './Components/Button';\nimport Loader from './Components/Loader';\nimport Modal from './Components/Modal';\n\nclass App extends Component {\n  state = {\n    imgs: [],\n    query: '',\n    page: 1,\n    isLoading: false,\n    error: null,\n    openModal: false,\n    largeImageURL: '',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.query !== this.state.query) {\n      this.fetchImgs();\n    }\n  }\n\n  onChangeQuery = request => {\n    this.setState({ query: request, page: 1, imgs: [], error: null });\n  };\n\n  fetchImgs = () => {\n    const { query, page } = this.state;\n    const options = { query, page };\n\n    this.setState({ isLoading: true });\n\n    fetchPictures(options)\n      .then(imgs => {\n        this.setState(prevState => ({\n          imgs: [...prevState.imgs, ...imgs],\n          page: prevState.page + 1,\n        }));\n        page > 1 &&\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: 'smooth',\n          });\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  toggleModal = largeImg => {\n    this.setState(({ openModal }) => ({\n      openModal: !openModal,\n      largeImageURL: largeImg,\n    }));\n  };\n\n  render() {\n    const { imgs, isLoading, error, openModal, largeImageURL } = this.state;\n    const ifRenderLoadMore = imgs.length > 0 && !isLoading;\n\n    return (\n      <div className={styles.App}>\n        {openModal && (\n          <Modal onClose={this.toggleModal} largeImg={largeImageURL} />\n        )}\n        <Searchbar onSubmit={this.onChangeQuery} />\n        <ImageGallery imgs={imgs} toggleModal={this.toggleModal} />\n        {ifRenderLoadMore && <Button fetchImgs={this.fetchImgs} />}\n        {isLoading && <Loader />}\n        {error && <h1>Something went wrong...Try again!</h1>}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport 'modern-normalize/modern-normalize.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3YYEG\",\"SearchForm\":\"Searchbar_SearchForm__1hX1-\",\"SearchForm_Button\":\"Searchbar_SearchForm_Button__3npms\",\"SearchForm_Button_Label\":\"Searchbar_SearchForm_Button_Label__806cZ\",\"SearchForm_Input\":\"Searchbar_SearchForm_Input__34sEA\"};"],"sourceRoot":""}